<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cross validation for Orthogonalizing EM — cv.oem • oem</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Cross validation for Orthogonalizing EM — cv.oem" />
<meta property="og:description" content="Cross validation for Orthogonalizing EM" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">oem</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.0.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/oem_vignette.html">Usage of the oem Package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jaredhuling/oem">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cross validation for Orthogonalizing EM</h1>
    <small class="dont-index">Source: <a href='https://github.com/jaredhuling/oem/blob/master/R/cv_oem.R'><code>R/cv_oem.R</code></a></small>
    <div class="hidden name"><code>cv.oem.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Cross validation for Orthogonalizing EM</p>
    </div>

    <pre class="usage"><span class='fu'>cv.oem</span>(
  <span class='no'>x</span>,
  <span class='no'>y</span>,
  <span class='kw'>penalty</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"elastic.net"</span>, <span class='st'>"lasso"</span>, <span class='st'>"ols"</span>, <span class='st'>"mcp"</span>, <span class='st'>"scad"</span>, <span class='st'>"mcp.net"</span>, <span class='st'>"scad.net"</span>,
    <span class='st'>"grp.lasso"</span>, <span class='st'>"grp.lasso.net"</span>, <span class='st'>"grp.mcp"</span>, <span class='st'>"grp.scad"</span>, <span class='st'>"grp.mcp.net"</span>, <span class='st'>"grp.scad.net"</span>,
    <span class='st'>"sparse.grp.lasso"</span>),
  <span class='kw'>weights</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>numeric</a></span>(<span class='fl'>0</span>),
  <span class='kw'>lambda</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>type.measure</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"mse"</span>, <span class='st'>"deviance"</span>, <span class='st'>"class"</span>, <span class='st'>"auc"</span>, <span class='st'>"mae"</span>),
  <span class='kw'>nfolds</span> <span class='kw'>=</span> <span class='fl'>10</span>,
  <span class='kw'>foldid</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>grouped</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>keep</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>ncores</span> <span class='kw'>=</span> -<span class='fl'>1</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>input matrix of dimension n x p or <code>CsparseMatrix</code> objects of the <span class="pkg">Matrix</span> (sparse not yet implemented. 
Each row is an observation, each column corresponds to a covariate. The cv.oem() function
is optimized for n &gt;&gt; p settings and may be very slow when p &gt; n, so please use other packages
such as <code>glmnet</code>, <code>ncvreg</code>, <code>grpreg</code>, or <code>gglasso</code> when p &gt; n or p approx n.</p></td>
    </tr>
    <tr>
      <th>y</th>
      <td><p>numeric response vector of length nobs.</p></td>
    </tr>
    <tr>
      <th>penalty</th>
      <td><p>Specification of penalty type in lowercase letters. Choices include <code>"lasso"</code>, 
<code>"ols"</code> (Ordinary least squares, no penaly), <code>"elastic.net"</code>, <code>"scad"</code>, <code>"mcp"</code>, <code>"grp.lasso"</code></p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>observation weights. defaults to 1 for each observation (setting weight vector to 
length 0 will default all weights to 1)</p></td>
    </tr>
    <tr>
      <th>lambda</th>
      <td><p>A user supplied lambda sequence. By default, the program computes
its own lambda sequence based on nlambda and lambda.min.ratio. Supplying
a value of lambda overrides this.</p></td>
    </tr>
    <tr>
      <th>type.measure</th>
      <td><p>measure to evaluate for cross-validation. The default is <code>type.measure = "deviance"</code>, 
which uses squared-error for gaussian models (a.k.a <code>type.measure = "mse"</code> there), deviance for logistic
regression. <code>type.measure = "class"</code> applies to binomial only. <code>type.measure = "auc"</code> is for two-class logistic 
regression only. <code>type.measure = "mse"</code> or <code>type.measure = "mae"</code> (mean absolute error) can be used by all models;
they measure the deviation from the fitted mean to the response.</p></td>
    </tr>
    <tr>
      <th>nfolds</th>
      <td><p>number of folds for cross-validation. default is 10. 3 is smallest value allowed.</p></td>
    </tr>
    <tr>
      <th>foldid</th>
      <td><p>an optional vector of values between 1 and nfold specifying which fold each observation belongs to.</p></td>
    </tr>
    <tr>
      <th>grouped</th>
      <td><p>Like in <span class="pkg">glmnet</span>, this is an experimental argument, with default <code>TRUE</code>, and can be ignored by most users. 
For all models, this refers to computing nfolds separate statistics, and then using their mean and estimated standard 
error to describe the CV curve. If <code>grouped = FALSE</code>, an error matrix is built up at the observation level from the 
predictions from the <code>nfold</code> fits, and then summarized (does not apply to <code>type.measure = "auc"</code>).</p></td>
    </tr>
    <tr>
      <th>keep</th>
      <td><p>If <code>keep = TRUE</code>, a prevalidated list of arrasy is returned containing fitted values for each observation 
and each value of lambda for each model. This means these fits are computed with this observation and the rest of its
fold omitted. The folid vector is also returned. Default is <code>keep = FALSE</code></p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>If TRUE, use parallel foreach to fit each fold. Must register parallel before hand, such as <span class="pkg">doMC</span>.</p></td>
    </tr>
    <tr>
      <th>ncores</th>
      <td><p>Number of cores to use. If <code>parallel = TRUE</code>, then ncores will be automatically set to 1 to prevent conflicts</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other parameters to be passed to <code>"oem"</code> function</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object with S3 class <code>"cv.oem"</code></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>123</span>)
<span class='no'>n.obs</span> <span class='kw'>&lt;-</span> <span class='fl'>1e4</span>
<span class='no'>n.vars</span> <span class='kw'>&lt;-</span> <span class='fl'>100</span>

<span class='no'>true.beta</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span>(<span class='fl'>15</span>, -<span class='fl'>0.25</span>, <span class='fl'>0.25</span>), <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='fl'>0</span>, <span class='no'>n.vars</span> - <span class='fl'>15</span>))

<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>n.obs</span> * <span class='no'>n.vars</span>), <span class='no'>n.obs</span>, <span class='no'>n.vars</span>)
<span class='no'>y</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span>(<span class='no'>n.obs</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>3</span>) + <span class='no'>x</span> <span class='kw'>%*%</span> <span class='no'>true.beta</span>

<span class='no'>fit</span> <span class='kw'>&lt;-</span> <span class='fu'>cv.oem</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>x</span>, <span class='kw'>y</span> <span class='kw'>=</span> <span class='no'>y</span>,
              <span class='kw'>penalty</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"lasso"</span>, <span class='st'>"grp.lasso"</span>),
              <span class='kw'>groups</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='fl'>1</span>:<span class='fl'>20</span>, <span class='kw'>each</span> <span class='kw'>=</span> <span class='fl'>5</span>))

<span class='fu'><a href='https://rdrr.io/r/graphics/layout.html'>layout</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>2</span>))
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>fit</span>)
<span class='fu'><a href='https://rdrr.io/r/base/plot.html'>plot</a></span>(<span class='no'>fit</span>, <span class='kw'>which.model</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='img'><img src='cv.oem-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Bin Dai, Jared Huling.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


